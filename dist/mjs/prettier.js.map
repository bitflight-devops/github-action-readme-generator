{"version":3,"file":"prettier.js","sourceRoot":"","sources":["../../src/prettier.ts"],"names":[],"mappings":"AAAA;;;;;;;;GAQG;AAEH,OAAO,EAAE,MAAM,EAAE,MAAM,UAAU,CAAC;AAElC,OAAO,OAAO,MAAM,oBAAoB,CAAC;AAEzC,MAAM,GAAG,GAAG,IAAI,OAAO,CAAC,UAAU,CAAC,CAAC;AAEpC;;;;;GAKG;AACH,MAAM,CAAC,KAAK,UAAU,UAAU,CAAC,KAAa,EAAE,QAAiB;IAC/D,MAAM,EAAE,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;IACxC,OAAO,MAAM,CAAC,KAAK,EAAE;QACnB,IAAI,EAAE,KAAK;QACX,MAAM,EAAE,MAAM;QACd,0BAA0B,EAAE,MAAM;QAClC,GAAG,EAAE;KACN,CAAC,CAAC;AACL,CAAC;AAED;;;;;GAKG;AACH,MAAM,CAAC,KAAK,UAAU,cAAc,CAAC,KAAa,EAAE,QAAiB;IACnE,MAAM,EAAE,GAAG,QAAQ,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC;IACxC,OAAO,MAAM,CAAC,KAAK,EAAE;QACnB,IAAI,EAAE,KAAK;QACX,MAAM,EAAE,UAAU;QAClB,0BAA0B,EAAE,MAAM;QAClC,GAAG,EAAE;KACN,CAAC,CAAC;AACL,CAAC;AAED;;;;;;GAMG;AACH,MAAM,CAAC,KAAK,UAAU,eAAe,CACnC,KAAyB,EACzB,OAAiB,EACjB,MAAM,GAAG,QAAQ;IAEjB,IAAI,CAAC,KAAK;QAAE,OAAO,OAAO,IAAI,EAAE,CAAC;IACjC,8FAA8F;IAC9F,IAAI,eAAe,GAAG,EAAE,CAAC;IACzB,IAAI;QACF,eAAe,GAAG,MAAM,MAAM,CAAC,KAAK,EAAE;YACpC,IAAI,EAAE,KAAK;YACX,MAAM,EAAE,UAAU;YAClB,SAAS,EAAE,QAAQ;SACpB,CAAC,CAAC;KACJ;IAAC,OAAO,KAAK,EAAE;QACd,GAAG,CAAC,KAAK,CAAC,GAAG,KAAK,EAAE,CAAC,CAAC;KACvB;IAED,OAAO,CAAC,IAAI,CAAC,GAAG,eAAe,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;IAC9F,OAAO,OAAO,CAAC;AACjB,CAAC","sourcesContent":["/**\n * This TypeScript code exports three functions: `formatYaml`, `formatMarkdown`, and `wrapDescription`.\n *\n * - `formatYaml` takes a YAML string and an optional filepath as parameters and uses the `prettier` library to format the YAML code. It returns the formatted YAML string.\n * - `formatMarkdown` takes a Markdown string and an optional filepath as parameters and uses the `prettier` library to format the Markdown code. It returns the formatted Markdown string.\n * - `wrapDescription` takes a string value, an array of content, and an optional prefix as parameters. It wraps the description text with the specified prefix and formats it using `prettier`. It returns the updated content array with the formatted description lines.\n *\n * The code utilizes the `prettier` library for code formatting and the `LogTask` class for logging purposes.\n */\n\nimport { format } from 'prettier';\n\nimport LogTask from './logtask/index.js';\n\nconst log = new LogTask('prettier');\n\n/**\n * Formats a YAML string using `prettier`.\n * @param {string} value - The YAML string to format.\n * @param {string} [filepath] - The optional filepath.\n * @returns {Promise<string>} A promise that resolves with the formatted YAML string.\n */\nexport async function formatYaml(value: string, filepath?: string): Promise<string> {\n  const fp = filepath ? { filepath } : {};\n  return format(value, {\n    semi: false,\n    parser: 'yaml',\n    embeddedLanguageFormatting: 'auto',\n    ...fp,\n  });\n}\n\n/**\n * Formats a Markdown string using `prettier`.\n * @param {string} value - The Markdown string to format.\n * @param {string} [filepath] - The optional filepath.\n * @returns {Promise<string>} A promise that resolves with the formatted Markdown string.\n */\nexport async function formatMarkdown(value: string, filepath?: string): Promise<string> {\n  const fp = filepath ? { filepath } : {};\n  return format(value, {\n    semi: false,\n    parser: 'markdown',\n    embeddedLanguageFormatting: 'auto',\n    ...fp,\n  });\n}\n\n/**\n * Wraps a description text with a prefix and formats it using `prettier`.\n * @param {string | undefined} value - The description text to wrap and format.\n * @param {string[]} content - The array of content to update.\n * @param {string} [prefix='    # '] - The optional prefix to wrap the description lines.\n * @returns {Promise<string[]>} A promise that resolves with the updated content array.\n */\nexport async function wrapDescription(\n  value: string | undefined,\n  content: string[],\n  prefix = '    # ',\n): Promise<string[]> {\n  if (!value) return content ?? [];\n  // const valueWithoutPrefix = prefix && prefix.length > 0 ? value.replace(prefix, '') : value;\n  let formattedString = '';\n  try {\n    formattedString = await format(value, {\n      semi: false,\n      parser: 'markdown',\n      proseWrap: 'always',\n    });\n  } catch (error) {\n    log.error(`${error}`);\n  }\n\n  content.push(...formattedString.split('\\n').map((line) => prefix + line.replace(prefix, '')));\n  return content;\n}\n"]}