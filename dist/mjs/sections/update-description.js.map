{"version":3,"file":"update-description.js","sourceRoot":"","sources":["../../../src/sections/update-description.ts"],"names":[],"mappings":"AACA,OAAO,OAAO,MAAM,qBAAqB,CAAC;AAE1C,MAAM,CAAC,OAAO,UAAU,iBAAiB,CAAC,KAAa,EAAE,MAAc;IACrE,MAAM,GAAG,GAAG,IAAI,OAAO,CAAC,KAAK,CAAC,CAAC;IAC/B,uBAAuB;IACvB,MAAM,OAAO,GAAa,EAAE,CAAC;IAC7B,oCAAoC;IACpC,IAAI,MAAM,EAAE,MAAM,EAAE,WAAW,EAAE;QAC/B,GAAG,CAAC,KAAK,EAAE,CAAC;QACZ,MAAM,IAAI,GAAW,MAAM,CAAC,MAAM,CAAC,WAAW;aAC3C,IAAI,EAAE;aACN,UAAU,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,mBAAmB;aAC5C,UAAU,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC,+BAA+B;aACtD,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,oCAAoC;aAC5D,UAAU,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC,CAAC,mCAAmC;QAEpE,GAAG,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,MAAM,wCAAwC,CAAC,CAAC;QACzE,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACnB,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,KAAK,EAAE,OAAO,CAAC,CAAC;QAClD,GAAG,CAAC,OAAO,EAAE,CAAC;KACf;AACH,CAAC","sourcesContent":["import type Inputs from '../inputs.js';\nimport LogTask from '../logtask/index.js';\n\nexport default function updateDescription(token: string, inputs: Inputs): void {\n  const log = new LogTask(token);\n  // Build the new README\n  const content: string[] = [];\n  // Build the new description section\n  if (inputs?.action?.description) {\n    log.start();\n    const desc: string = inputs.action.description\n      .trim()\n      .replaceAll('\\r\\n', '\\n') // Convert CR to LF\n      .replaceAll(/ +/g, ' ') //    Squash consecutive spaces\n      .replaceAll(' \\n', '\\n') //  Squash space followed by newline\n      .replaceAll('\\n\\n', '<br />'); // convert double return to a break\n\n    log.info(`Writing ${desc.length} characters to the description section`);\n    content.push(desc);\n    inputs.readmeEditor.updateSection(token, content);\n    log.success();\n  }\n}\n"]}